<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Have You Wandered Every Land</title>
    <description>A personal blog site, with musings about technology and documenting what I learn.
</description>
    <link>http://www.hywel.me/</link>
    <atom:link href="http://www.hywel.me/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 10 Jun 2016 19:20:48 +0100</pubDate>
    <lastBuildDate>Fri, 10 Jun 2016 19:20:48 +0100</lastBuildDate>
    <generator>Jekyll v3.1.6</generator>
    
      <item>
        <title>Drupal 8 Sub Themes and Stylesheets</title>
        <description>&lt;h2 id=&quot;creating-a-drupal-8-sub-theme&quot;&gt;Creating a Drupal 8 Sub Theme&lt;/h2&gt;

&lt;p&gt;It has been about a month since I started an exercise to upgrade to migrate from Drupal 6 to Drupal 8 using the migration tools provided in Drupal.&lt;/p&gt;

&lt;p&gt;In the time since my last &lt;a href=&quot;http://www.hywel.me/drupal/2016/02/17/a-website-upgrade-from-drupal-6-to-drupal-8-part-5.html&quot;&gt;post&lt;/a&gt; on the subject, I have been concentrating on updating the look and feel of the theme.  Note that you can see a listing of all my posts &lt;a href=&quot;http://www.hywel.me/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I have to say that I am impressed with the ability in Drupal 8 to create a Child Theme of an existing Theme and then create separate libraries for the stylesheets and javascript that then enhance the base theme without compromising the integrity or upgrade path of the base theme.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.drupal.org/theme-guide/8/creating-a-sub-theme&quot;&gt;Creating a Sub Theme&lt;/a&gt; was one of the resources I used.&lt;/p&gt;

&lt;p&gt;For this example , the sub theme will be called hartleyvoicescouk&lt;/p&gt;

&lt;h3 id=&quot;create-sub-theme-info-and-library-files&quot;&gt;Create Sub Theme Info and Library Files&lt;/h3&gt;

&lt;p&gt;The basic configuration requires:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;a sub theme folder in the Drupal ‘Themes’ Folder (Note this is &lt;em&gt;not&lt;/em&gt; in the ‘Core’ folders)&lt;/li&gt;
  &lt;li&gt;an info file to which describes the sub theme region structure, libraries and parent theme&lt;/li&gt;
  &lt;li&gt;a library file, which will describe the stylesheets and any javascript used&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I used &lt;a href=&quot;https://www.drupal.org/theme-guide/8/assets&quot;&gt;Adding stylesheets (CSS) and JavaScript (JS) to a Drupal 8 theme&lt;/a&gt;  as a reference.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://github.com/hyweljohnllewellyn/hywelme/tree/gh-pages/assets/2016-03-06/hartleyvoicescouk&quot;&gt;hartleyvoicescouk sub theme folder structure&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-03-06/drupal%208%20sub%20theme%20folders.png&quot; alt=&quot;drupal 8 sub theme folders&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The Bartik base theme was used as a basis for this Sub theme.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://github.com/hyweljohnllewellyn/hywelme/blob/gh-pages/assets/2016-03-06/hartleyvoicescouk/hartleyvoicescouk.info.yml&quot;&gt;hartleyvoicescouk.info.yml&lt;/a&gt; file&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;s&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;hartleyvoicescouk&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;theme&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;This is a hartleyvoices sub theme of Bartik&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;core&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;8.x&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Defines the base theme&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;base theme&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bartik&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Defines libraries group in which we can add css/js.&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;libraries&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;hartleyvoicescouk/global-styling&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Regions&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;regions&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Header&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;primary_menu&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Primary&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;menu&#39;&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;secondary_menu&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Secondary&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;menu&#39;&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Content&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;sidebar_first&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;First sidebar&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;sidebar_second&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Second sidebar&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;featured&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Featured bottom first&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;footer&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Footer&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://github.com/hyweljohnllewellyn/hywelme/blob/gh-pages/assets/2016-03-06/hartleyvoicescouk/hartleyvoicescouk.libraries.yml&quot;&gt;hartleyvoicescouk.libraries.yml&lt;/a&gt; file&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;s&quot;&gt;global-styling&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;css/style.css&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;{}&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;js&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;js/yahoomedia/hartleyvoicescouk.js&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;{}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;activate-the-sub-theme&quot;&gt;Activate the Sub Theme&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-03-06/drupal%208%20activated%20sub%20theme.jpg&quot; alt=&quot;drupal 8 activated sub theme&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;sub-theme-stylesheet---stylecsshttpsgithubcomhyweljohnllewellynhywelmeblobgh-pagesassets2016-03-06hartleyvoicescoukcssstylecss&quot;&gt;Sub Theme Stylesheet - &lt;a href=&quot;https://github.com/hyweljohnllewellyn/hywelme/blob/gh-pages/assets/2016-03-06/hartleyvoicescouk/css/style.css&quot;&gt;style.css&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;This was the tricky and time consuming part, mainly as for each of the style elements I wanted to customise, I needed to find the related element in the Parent Theme.  These were generally found in one of the css files in the
&lt;em&gt;bartik -&amp;gt; css -&amp;gt; components&lt;/em&gt; folder&lt;/p&gt;

&lt;p&gt;within the hartleyvoicescouk css folder a &lt;a href=&quot;https://github.com/hyweljohnllewellyn/hywelme/blob/gh-pages/assets/2016-03-06/hartleyvoicescouk/css/style.css&quot;&gt;style.css&lt;/a&gt; file contained all the custom css for the sub theme.&lt;/p&gt;

&lt;h3 id=&quot;hartley-voices-with-drupal-8&quot;&gt;Hartley Voices with Drupal 8&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-03-06/drupal%208%20hartleyvoicescouk%20with%20css.jpg&quot; alt=&quot;Hartley Voices with Drupal 8&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This was quite good….. but….&lt;/p&gt;

&lt;h2 id=&quot;drupal-8-shortcoming---standard-support-for-basic-html-5-audio-elements&quot;&gt;Drupal 8 Shortcoming - Standard Support for Basic HTML 5 Audio Elements&lt;/h2&gt;

&lt;p&gt;I came across a shortcoming with the Drupal 8 that I cannot resolve.  &lt;a href=&quot;http://www.hartleyvoices.co.uk&quot;&gt;Hartley Voices&lt;/a&gt; is a live music events agency and so there is a need to support audio / mp3.&lt;/p&gt;

&lt;p&gt;Currently, the Hartley Voices site is running a version of the Yahoo Media Player that I customised to use since Yahoo ended support of it’s media player.  Details of how I use the &lt;a href=&quot;https://github.com/hyweljohnllewellyn/yahoomediaplayer&quot;&gt;Yahoo Media Player at my Git Page&lt;/a&gt;.  The simplicity and minimalism is, I feel still unsurpassed.&lt;/p&gt;

&lt;p&gt;I was very surprised that Drupal, as a ‘modern’ CMS does not support standard HTML5 &lt;audio&gt; elements.  Why they would need to be developed as a Module escapes me and the only real option at the moment would be to use a paid SoundCloud account for the [Mini embedded player](http://help.soundcloud.com/customer/en/portal/articles/2167181-the-mini-embedded-player) or revert to Drupal 7.&lt;/audio&gt;&lt;/p&gt;

&lt;h2 id=&quot;options-going-forward&quot;&gt;Options Going Forward&lt;/h2&gt;

&lt;p&gt;Since using &lt;a href=&quot;http://www.hywel.me/jekyll/static/site/2015/11/15/installing-jekyll-locally-on-a-mac.html&quot;&gt;Jekyll&lt;/a&gt; as a static site generators and &lt;a href=&quot;http://www.hywel.me/2015/11/23/create-jekyll-static-site-posts-using-proseio.html&quot;&gt;prose.io&lt;/a&gt; as an online editor, I am now seriously considering converting the entire Drupal 6 site to &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; or potentially &lt;a href=&quot;https://gohugo.io/&quot;&gt;Hugo&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Sun, 06 Mar 2016 08:34:00 +0000</pubDate>
        <link>http://www.hywel.me/drupal/2016/03/06/drupal-8-sub-themes-and-stylesheets.html</link>
        <guid isPermaLink="true">http://www.hywel.me/drupal/2016/03/06/drupal-8-sub-themes-and-stylesheets.html</guid>
        
        
        <category>drupal</category>
        
      </item>
    
      <item>
        <title>A Website Upgrade from Drupal 6 to Drupal 8 - Part 5</title>
        <description>&lt;h2 id=&quot;fixing-final-migration-issues&quot;&gt;Fixing Final Migration Issues&lt;/h2&gt;

&lt;p&gt;So, this will be the final post specifically related to the migration of data and files from Drupal 6 to Drupal 8.&lt;/p&gt;

&lt;p&gt;Further posts will be focussed on Drupal 8, specifically the Themes and Templates and any specific customisation that may be required.&lt;/p&gt;

&lt;p&gt;Before that, There are some migration issues to resolve.&lt;/p&gt;

&lt;h3 id=&quot;audio-files-linked-to-nodes-in-drupal-6-did-not-migrate-to-drupal-8&quot;&gt;Audio Files Linked to Nodes in Drupal 6 Did not Migrate to Drupal 8&lt;/h3&gt;

&lt;p&gt;I am disappointed with this specific issue, mainly as I was expecting more from the drupal-upgrade functionality from Drupal 6 to 8.&lt;/p&gt;

&lt;p&gt;I have tried searching the forums online but as far as I can tell, unless my method was at fault the migration of files linked to nodes under d6_upload is not supported at time of writing this post.&lt;/p&gt;

&lt;p&gt;Other than raising a support ticket, I decided to identify the Drupal 8 tables that were needed and write a SQL script using PHP to migrate the data.&lt;/p&gt;

&lt;p&gt;To make the process a bit simpler, first the Drupal 6 ‘upload’ table was exported and imported to the Drupal 8 Database - named &lt;em&gt;‘d6upload’&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Then a File named d6_upload_to_d8.php was created in the Drupal 8 root directory with the following:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/* migrate files linked to nodes from Drupal 6 Upload Table to Drupal 8 */&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/* Connect to the Drupal 8 Database */&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$link&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysqli_connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;localhost&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;username&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;password&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;drupal8&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$filetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$nodetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/* Read the content of the Drupal 6 Upload Table */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;mysqli_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;select fid, nid, vid, description, weight from d6_upload order by 3 desc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$row&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;mysqli_fetch_row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
   &lt;span class=&quot;nv&quot;&gt;$fileid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
   &lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
   &lt;span class=&quot;nv&quot;&gt;$versionid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
   &lt;span class=&quot;nv&quot;&gt;$description&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;mysqli_real_escape_string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/* Handle Drupal 6 node revisions and weight 8 */&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nodetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nodetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;}&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nodetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;}&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$filetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$filetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$fileid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;}&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$filetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$fileid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nodetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$weight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$weight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;}&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;}&lt;/span&gt;
   &lt;span class=&quot;nv&quot;&gt;$filetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$fileid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;nv&quot;&gt;$nodetest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fileid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;, node&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;p&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$query1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;insert into file_usage (fid,module, type, id, count) values (&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fileid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,&quot;file&quot;,&quot;node&quot;,&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,1)&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;mysqli_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$query1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$query2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;insert into node__upload (bundle, deleted,entity_id, revision_id, langcode, delta, upload_target_id, upload_display, upload_description) values (&quot;page&quot;,0,&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$versionid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,&quot;und&quot;, &#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fileid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,1,&quot;&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$description&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;&quot;)&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;mysqli_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$query2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$query3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;insert into node_revision__upload (bundle, deleted,entity_id, revision_id, langcode, delta, upload_target_id, upload_display, upload_description) values (&quot;page&quot;,0,&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nodeid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$versionid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,&quot;und&quot;, &#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fileid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;,1,&quot;&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$description&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;&quot;)&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;mysqli_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$query3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/* close connection */&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;mysqli_close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The main considerations in this code was converting the Drupal 6 Revisions and page node weight to the Drupal 8 equivalent.&lt;/p&gt;

&lt;p&gt;The script was run by entering http://localhost:8888/d6_upload_to_d8.php in the browser.&lt;/p&gt;

&lt;h3 id=&quot;configuring-drupal-8-file-upload-page-content-type-fields&quot;&gt;Configuring Drupal 8 File Upload Page Content Type Fields&lt;/h3&gt;

&lt;p&gt;Within the Structure » Content Types » Page, a new Field ‘file upload’ was created to allow a Drupal 8 Content Author to upload specified files (mainly audio)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 page field file upload step1.png&quot; alt=&quot;add drupal 8 page field file upload step1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 page field file upload step2.png&quot; alt=&quot;add drupal 8 page field file upload step2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/create file upload content type.jpg&quot; alt=&quot;create file upload content type&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So there were now the following Page Fields - &lt;em&gt;File Upload, Sidebar or Sidebar2&lt;/em&gt; :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/drupal 8 page fields.png&quot; alt=&quot;drupal 8 page fields.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;However, these were not being shown on the webpage.  Again, this may be a specific issue or limitation of the migration, though to resolve this Drupal 8 Views need to be created and added to the Block Layout.&lt;/p&gt;

&lt;h3 id=&quot;creating-drupal-8-views-to-display-additional-page-fields&quot;&gt;Creating Drupal 8 Views to display additional Page Fields&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 1.png&quot; alt=&quot;add drupal 8 view step 1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 3.png&quot; alt=&quot;add drupal 8 view step 3&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 4.png&quot; alt=&quot;add drupal 8 view step 4&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 5.png&quot; alt=&quot;add drupal 8 view step 5&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 6.png&quot; alt=&quot;add drupal 8 view step 6&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 7.png&quot; alt=&quot;add drupal 8 view step 7&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 8.png&quot; alt=&quot;add drupal 8 view step 8&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 9.png&quot; alt=&quot;add drupal 8 view step 9&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 10.png&quot; alt=&quot;add drupal 8 view step 10&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 11.png&quot; alt=&quot;add drupal 8 view step 11&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 12.png&quot; alt=&quot;add drupal 8 view step 12&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view step 13.png&quot; alt=&quot;add drupal 8 view step 13&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;adding-drupal-8-views-to-a-block-layout&quot;&gt;Adding Drupal 8 Views to a Block Layout&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view to block step 1.png&quot; alt=&quot;add drupal 8 view to block step 1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view to block step 2.png&quot; alt=&quot;add drupal 8 view to block step 2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view to block step 3.png&quot; alt=&quot;add drupal 8 view to block step 3&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-17/add drupal 8 view to block step 4.png&quot; alt=&quot;add drupal 8 view to block step 4&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 17 Feb 2016 20:02:00 +0000</pubDate>
        <link>http://www.hywel.me/drupal/2016/02/17/a-website-upgrade-from-drupal-6-to-drupal-8-part-5.html</link>
        <guid isPermaLink="true">http://www.hywel.me/drupal/2016/02/17/a-website-upgrade-from-drupal-6-to-drupal-8-part-5.html</guid>
        
        
        <category>drupal</category>
        
      </item>
    
      <item>
        <title>A Website Upgrade from Drupal 6 to Drupal 8 - Part 4</title>
        <description>&lt;h2 id=&quot;preparing-an-upgrade-to-drupal-8httpswwwdrupalorgnode2350603&quot;&gt;&lt;a href=&quot;https://www.drupal.org/node/2350603&quot;&gt;Preparing an upgrade to Drupal 8&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;According to this link, the requirements are:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A fresh installation of Drupal 8 with the core module Migrate Drupal enabled.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;The Migrate Upgrade module installed and enabled on the Drupal 8 site.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;If you plan on running the upgrade from Drush, you’ll need Drush 8.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;These are covered in &lt;a href=&quot;http://www.hywel.me/drupal/2016/02/06/a-website-upgrade-from-drupal-6-to-drupal-8-part-1.html&quot;&gt;Part 1&lt;/a&gt; and &lt;a href=&quot;http://www.hywel.me/drupal/2016/02/07/a-website-upgrade-from-drupal-6-to-drupal-8-part-2.html&quot;&gt;Part 2&lt;/a&gt;. Screenshot showing enabled modules in Drupal 8:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-11/drupal 8 migrate modules enabled.jpg&quot; alt=&quot;drupal 8 migrate modules enabled&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Access to the Drupal 6 or 7 database from the host where your new Drupal 8 site is.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Access to the source site’s files.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The Drupal upgrade will be carried out locally on a Mac.  The Drupal 6 database and files are locally installed.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Enable required modules.  The migration process does not install modules on the Drupal 8 destination site and only migrations relevant for modules installed on both the source and destination site are run. Therefore prior to running the migration, you need to enable all modules on the Drupal 8 site for which you want configuration and content upgraded from the source site&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The above statement is a bit confusing, and suggests that it is necessary to identify all Modules used in Drupal 6, their equivalent in Drupal 8 and install them in Drupal 8 prior to upgrade.  In &lt;a href=&quot;http://www.hywel.me/drupal/2016/02/10/a-website-upgrade-from-drupal-6-to-drupal-8-part-3.html&quot;&gt;Part 3&lt;/a&gt;, I carried our a cursory analysis of the modules and installed an XML sitemap module.&lt;/p&gt;

&lt;h2 id=&quot;executing-an-upgrade-using-drushhttpswwwdrupalorgnode2350651&quot;&gt;&lt;a href=&quot;https://www.drupal.org/node/2350651&quot;&gt;Executing an upgrade using Drush&lt;/a&gt;&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;For more control, you will probably want to pass the –configure-only option to migrate-upgrade, so it will only perform the first step of creating the migrations.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush migrate-upgrade --legacy-db-url&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;mysql://hartleyvoicescms:MTwGCDT5Ah74smSW@localhost/hartleyvoicescms --legacy-root&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/Users/hywel/Sites/hartleyvoicescms --configure-only&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Nothing much happened, it just returned to the prompt.  To some extent, this was expected as the configure-only option was used.  So next was:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;drush migrate-status&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This was a bit more interesting and summarised what migration was available from Drupal 6.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-11/drush 8 migrate status from drupal 6.png&quot; alt=&quot;drush 8 migrate status from drupal 6&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Import the whole list of possible migrations:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush migrate-import --all&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-11/drush migrate-import all.png&quot; alt=&quot;drush migrate-import all&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;drupal-8-first-upgrade-attempt--text-format-issues&quot;&gt;Drupal 8 First Upgrade Attempt:  Text Format Issues&lt;/h2&gt;

&lt;p&gt;The &lt;em&gt;Missing filter plugin: filternull&lt;/em&gt; was shown several times during the import process.&lt;/p&gt;

&lt;p&gt;Here is the homepage following the first part of the migrate and update to Drupal 8:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-11/first migrate result homepage.png&quot; alt=&quot;first migrate result homepage&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As you can see, some of the menu structure exists, but the layout and body text was not showing at all.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Issue On investigation seems that a second Full_HTML Text format was created during the import that had a broken text filter.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;As shown, there are two versions of the Full HTML text format:
&lt;img src=&quot;/assets/2016-02-11/full HTML imported from drupal 6.png&quot; alt=&quot;full HTML imported from drupal 6&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The Full HTML text format imported from Drupal 6 was showing a filter null error:
&lt;img src=&quot;/assets/2016-02-11/filter null error from drupal 6 text format.png&quot; alt=&quot;filter null error from Drupal 6 text format&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So the Drupal 6 filter was disabled:
&lt;img src=&quot;/assets/2016-02-11/disable the full html drupal 6 filter confirm.png&quot; alt=&quot;disable the full html Drupal 6 filter confirm&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After selecting the Drupal 8 Full HTML filter:
&lt;img src=&quot;/assets/2016-02-11/select drupal 8 full html text filter.png&quot; alt=&quot;select drupal 8 full html text filter&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The text was showing formatted correctly:
&lt;img src=&quot;/assets/2016-02-11/drupal 8 full html text filter working.png&quot; alt=&quot;drupal 8 full html text filter working&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As shown the Drupal 6 filter in node body table was called full_html 1:
&lt;img src=&quot;/assets/2016-02-11/full_html1 in the node body table.png&quot; alt=&quot;full_html1 in the node body table&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;remove-the-drupal-6-text-format-and-update-the-drupal-8-text-format-to-full-html&quot;&gt;Remove the Drupal 6 Text Format and Update the Drupal 8 Text format to Full HTML&lt;/h3&gt;

&lt;p&gt;Running the following SQL to update remove the full_html 1 filter imported from Drupal 6 and replace with full_html in Drupal 8.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;update &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;node__body&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;body_format &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;full_html&#39;&lt;/span&gt;;
update &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;node__field_sidebar&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;field_sidebar_format &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;full_html&#39;&lt;/span&gt;;
update &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;node__field_sidebar2&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;field_sidebar2_format &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;full_html&#39;&lt;/span&gt;;
update  &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;node_revision__body&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;body_format &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;full_html&#39;&lt;/span&gt;;
update &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;node_revision__field_sidebar&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;field_sidebar_format &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;full_html&#39;&lt;/span&gt;;
update &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;node_revision__field_sidebar2&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;field_sidebar2_format &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;full_html&#39;&lt;/span&gt;;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Followed by rebuilding the Drupal 8 cache :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush cache-rebuild&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;drupal-8-url-alias-issues&quot;&gt;Drupal 8 URL Alias Issues&lt;/h2&gt;

&lt;p&gt;As shown in previous screenshots, the URL was showing the node ID, rather that the human readable URL alias.&lt;/p&gt;

&lt;p&gt;On investigation it seemed that the language code was not defined on the url_alias table:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-11/url_alias drupal 8 lang code not defined following upgrade.png&quot; alt=&quot;url_alias drupal 8 lang code not defined following upgrade&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Back to trusty SQL update and cache rebuild:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;update  &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;url_alias&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;langcode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;und&#39;&lt;/span&gt;;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush cache-rebuild&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Much better - it almost looks like a website:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-11/drupal 8 first migation after url_alias fix.jpg&quot; alt=&quot;drupal 8 first migation after url_alias fix&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;drupal-6-versus-drupal-8---where-are-the-images-and-audio&quot;&gt;Drupal 6 versus Drupal 8 - Where are the images and audio?&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Drupal 6 - Live Site:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-11/three tenors drupal 6.jpg&quot; alt=&quot;three tenors drupal 6.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Drupal 8 - First Upgrade:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-11/three tenors drupal 8.jpg&quot; alt=&quot;three tenors drupal 8.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So next will be identifying where the asset files are and starting to look at formatting the site.&lt;/p&gt;

&lt;h3 id=&quot;drupal-8---asset-files-error&quot;&gt;Drupal 8 - Asset Files Error&lt;/h3&gt;

&lt;p&gt;So I noticed that there was an error in the original Drush migate upgrade command - the path to local legacy root folder was incorrect.  After some time investigating, I could not find any way to change this - so decided to start all over again - A Second attempt, repeating the steps from &lt;a href=&quot;http://www.hywel.me/drupal/2016/02/06/a-website-upgrade-from-drupal-6-to-drupal-8-part-1.html&quot;&gt;Part 1&lt;/a&gt; onward, but  with the corrected local folder:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush migrate-upgrade --legacy-db-url&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;mysql://hartleyvoicescms:MTwGCDT5Ah74smSW@localhost/hartleyvoicescms --legacy-root&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/Users/hywel/Sites/hartleyvoicescouk/public &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;Drupal 8 - Second Upgrade - with images:&lt;/strong&gt;
&lt;img src=&quot;/assets/2016-02-11/three tenors after second upgrade attempt.jpg&quot; alt=&quot;three tenors after second upgrade attempt&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 11 Feb 2016 19:42:00 +0000</pubDate>
        <link>http://www.hywel.me/drupal/2016/02/11/a-website-upgrade-from-drupal-6-to-drupal-8-part-4.html</link>
        <guid isPermaLink="true">http://www.hywel.me/drupal/2016/02/11/a-website-upgrade-from-drupal-6-to-drupal-8-part-4.html</guid>
        
        
        <category>drupal</category>
        
      </item>
    
      <item>
        <title>A Website Upgrade from Drupal 6 to Drupal 8 - Part 3</title>
        <description>&lt;h2 id=&quot;drupal-6-modules&quot;&gt;Drupal 6 Modules&lt;/h2&gt;

&lt;p&gt;A review of the currently installed modules on the Drupal 6 showed that most are now part of Drupal 8 Core, in particular:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ostraining.com/blog/drupal/drupal-8-contact-forms/&quot;&gt;Contact Forms&lt;/a&gt; instead of Webform&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.drupal.org/node/2606836&quot;&gt;Content Construction Kit (CCK)&lt;/a&gt; is now in Core Drupal 8&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The obvious module that stands out is the &lt;a href=&quot;https://www.drupal.org/project/simple_sitemap&quot;&gt;XML Sitemap&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To install that module, again using Drush&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush dl simple_sitemap&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-10/drush dl simple_sitemap.png&quot; alt=&quot;drush dl simple_sitemap&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush en simplesitemap&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-10/drush en simplesitemap.png&quot; alt=&quot;drush en simplesitemap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Issue Note that the command was simplesitemap not simple_sitemap&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;mamp-nginx-404-error---switch-to-apache&quot;&gt;MAMP Nginx 404 error - Switch to Apache&lt;/h2&gt;

&lt;p&gt;I have had to switch, hopefully temporarily to using the Apache Server with MAMP because although the main page (homepage) works fine, all others give 404 errors.&lt;/p&gt;

&lt;p&gt;Running Nginx:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-10/404 drupal page not found mamp with nginx .png&quot; alt=&quot;404 drupal page not found mamp with nginx&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Running Apache:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-10/drupal user login page mamp with apache.png&quot; alt=&quot;drupal user login page mamp with apache&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 10 Feb 2016 20:15:00 +0000</pubDate>
        <link>http://www.hywel.me/drupal/2016/02/10/a-website-upgrade-from-drupal-6-to-drupal-8-part-3.html</link>
        <guid isPermaLink="true">http://www.hywel.me/drupal/2016/02/10/a-website-upgrade-from-drupal-6-to-drupal-8-part-3.html</guid>
        
        
        <category>drupal</category>
        
      </item>
    
      <item>
        <title>A Website Upgrade from Drupal 6 to Drupal 8 - Part 2</title>
        <description>&lt;h2 id=&quot;preparing-for-upgrade&quot;&gt;Preparing for Upgrade&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;/drupal/2016/02/06/a-website-upgrade-from-drupal-6-to-drupal-8-part-1.html&quot;&gt;In my previous post,&lt;/a&gt; I described why I was upgrading a website from Drupal 6 to Drupal 8 and some of the key considerations.  Note that many of these are likely required to upgrade from Drupal 7.&lt;/p&gt;

&lt;p&gt;For this post, I will install the Drupal Migration Modules.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.drupal.org/node/2350603&quot;&gt;Preparing an Upgrade&lt;/a&gt; I will check:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A fresh installation of Drupal 8 with the core module Migrate Drupal enabled.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Access to the Drupal 6 database and site files from the Drupal 8 site.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;The Migrate Upgrade module installed and enabled on the Drupal 8 site.  If you plan on running the upgrade from Drush, you’ll need Drush 8 and the module Migrate tools.  Using Drush is more robust and allows selective migration. But it requires an additional module and it must be run from the command line.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;installing-drush-8-locally&quot;&gt;Installing Drush 8 Locally&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.drupal.org/node/2350651&quot;&gt;Executing an upgrade using Drush&lt;/a&gt; describes that the latest Drush needs to be used to upgrade - so lets’ get it.&lt;/p&gt;

&lt;p&gt;&lt;del&gt;I will install Drush using Homebrew package manager as described in &lt;a href=&quot;https://www.drupal.org/node/1674222&quot;&gt;Install Drush on a Mac&lt;/a&gt;&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;I already have Homebrew installed, otherwise I followed the commands on &lt;a href=&quot;https://www.drupal.org/node/954766&quot;&gt;Installing Drush on Mac using Homebrew&lt;/a&gt;&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Issue - The above methods caused all kinds of errors on install and may not be the best way for Drush 8 or Drupal 8 as described at &lt;a href=&quot;http://whaaat.com/installing-drush-8-using-composer&quot;&gt;Installing Drush 8 using Composer&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Before installing, I decided to change the default MAMP document folder to be in my usual /Sites/ folder :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/updated MAMP site root folder.png&quot; alt=&quot;updated MAMP site root folder&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The local URL now looked like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/updated drupal 8 local URL.png&quot; alt=&quot;updated Drupal 8 local URL&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Drush was then installed with Composer using instruction at &lt;a href=&quot;http://docs.drush.org/en/master/install-alternative/&quot;&gt;Install a global Drush via Composer&lt;/a&gt; :&lt;/p&gt;

&lt;h3 id=&quot;step-1---install-composer-globally&quot;&gt;Step 1 - Install Composer Globally&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Sites/drupal8
curl -sS https://getcomposer.org/installer | php
mv composer.phar /usr/local/bin/composer&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/installing composer.png&quot; alt=&quot;installing composer&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;step-2---add-composer-to-my-bashprofile&quot;&gt;Step 2 - Add Composer to my bash_profile&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel
nano .bash_profile&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Add the following line&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/.composer/vendor/bin:&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Start a new Terminal session to ensure the path is updated&lt;/p&gt;

&lt;h3 id=&quot;step-3---install-drush-using-composer-and-verify-status&quot;&gt;Step 3 - Install Drush using Composer and verify Status&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
composer global require drush/drush
drush status&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/installing drush with composer.png&quot; alt=&quot;installing drush with composer&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/drush 8 status.png&quot; alt=&quot;drush 8 status&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;step-4---update-path-to-ensure-systems-uses-the-mamp-version-of-phphttpstackoverflowcomquestions4145667how-to-override-the-path-of-php-to-use-the-mamp-path1065344310653443&quot;&gt;Step 4 - &lt;a href=&quot;http://stackoverflow.com/questions/4145667/how-to-override-the-path-of-php-to-use-the-mamp-path/10653443#10653443&quot;&gt;Update Path to ensure systems uses the MAMP version of PHP&lt;/a&gt;&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel
nano .bash_profile&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Add the following lines:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;MAMP_PHP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/Applications/MAMP/bin/php/php7.0.0/bin
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$MAMP_PHP&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/update path to MAMP php.png&quot; alt=&quot;update path to MAMP php&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;step-5---install-the-migration-modules&quot;&gt;Step 5 - Install the Migration Modules&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://www.drupal.org/node/2350651&quot;&gt;Executing an upgrade using Drush&lt;/a&gt; describes:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;To migrate using Drush you need to download and enable the Migrate Upgrade contributed module. You will also need Migrate Tools if you plan on doing more than running a one-time complete upgrade.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Drush has extensive functionality to install and maintain Drupal - see the &lt;a href=&quot;https://github.com/drush-ops/drush&quot;&gt;Drush Site&lt;/a&gt; and &lt;a href=&quot;http://drushcommands.com/&quot;&gt;Drush Commands&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.drupal.org/documentation/install/modules-themes/modules-8&quot;&gt;To install and enable the contributed modules&lt;/a&gt; :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush dl migrate_upgrade
drush en migrate_upgrade&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The first part worked:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/drush dl migrate_upgrade.png&quot; alt=&quot;drush dl migrate_upgrade&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Issue: Drush was not able to start (bootstrap) the Drupal database&lt;/strong&gt;
&lt;img src=&quot;/assets/2016-02-07/drush en migrate_upgrade issue.png&quot; alt=&quot;drush en migrate_upgrade issue&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://julianlmedina.com/getting-drush-working-with-mamp-3-on-mac/&quot;&gt;julianlmedina&lt;/a&gt;  and &lt;a href=&quot;https://www.drupal.org/node/954766&quot;&gt;Installing Drush on Mac using Homebrew&lt;/a&gt; have described&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If you are running your Drupal sites with MAMP, you need to tell Drush to use MAMP’s mysql.sock or you will run into the following error.  Easiest way to do this is by creating a symlink&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo mkdir /var/mysql
sudo ln -s /Applications/MAMP/tmp/mysql/mysql.sock /var/mysql/mysql.sock&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/MAMP mysql sock.png&quot; alt=&quot;MAMP mysql sock&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now to retry..&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush en migrate_upgrade&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;Issue: Drush still could not connect with the same error as before - I determined that the mysql command was not available from /Users/hywel/Sites/drupal8 with MAMP&lt;/strong&gt;
Following the instructions at &lt;a href=&quot;http://www.webbykat.com/2012/06/solving-sh-mysql-command-not-found-mamp-pro-2&quot;&gt;Solving mysql command not found” on MAMP&lt;/a&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel
nano .bash_profile&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Add this line to .bash_profile:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;:/Applications/MAMP/Library/bin&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now to retry..&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush en migrate_upgrade&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/migrate upgrade enable success.png&quot; alt=&quot;migrate upgrade enable success&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /Users/hywel/Sites/drupal8
drush dl migrate_tools
drush en migrate_tools&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-07/migrate tools success.png&quot; alt=&quot;migrate tools success&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Success - Do you want to continue… yes I think so!  See you next time.&lt;/p&gt;
</description>
        <pubDate>Sun, 07 Feb 2016 10:00:00 +0000</pubDate>
        <link>http://www.hywel.me/drupal/2016/02/07/a-website-upgrade-from-drupal-6-to-drupal-8-part-2.html</link>
        <guid isPermaLink="true">http://www.hywel.me/drupal/2016/02/07/a-website-upgrade-from-drupal-6-to-drupal-8-part-2.html</guid>
        
        
        <category>drupal</category>
        
      </item>
    
      <item>
        <title>A Website Upgrade from Drupal 6 to Drupal 8 - Part 1</title>
        <description>&lt;h2 id=&quot;why---drupal-8httpswwwdrupalorgnewsdrupal-800-released&quot;&gt;Why? - &lt;a href=&quot;https://www.drupal.org/news/drupal-8.0.0-released&quot;&gt;Drupal 8&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;I hope to capture the essence and learnings of migrating a website from Drupal 6 to Drupal 8, which is formally released as production ready.&lt;/p&gt;

&lt;p&gt;I expect this journey to have issues along the way as I am a novice Drupal administrator and have no experience in Theming.  Some key considerations during this migration:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mobile Friendly Theme&lt;/li&gt;
  &lt;li&gt;Google Search Ranking (it is an existing site)&lt;/li&gt;
  &lt;li&gt;Audio and Video Playback Capability&lt;/li&gt;
  &lt;li&gt;Easy to Maintain Content&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;drupal-6-end-of-lifehttpswwwdrupalorgdrupal-6-eol&quot;&gt;&lt;a href=&quot;https://www.drupal.org/drupal-6-eol&quot;&gt;Drupal 6 End Of Life&lt;/a&gt;&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;As announced in the Drupal 6 extended support policy, 3 months after Drupal 8 comes out, Drupal 6 will be end-of-life (EOL).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;On February 24th 2016, Drupal 6 will reach end of life and no longer be supported.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Drupal 8 core provides a Migration path directly from Drupal 6 as an experimental feature, so sites can update directly to Drupal 8 using either a user interface or with Drush.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This improved migration path is one of the main reasons why I have waited for Drupal 8, but by far the main reason is &lt;a href=&quot;https://googlewebmastercentral.blogspot.co.uk/2015/02/finding-more-mobile-friendly-search.html&quot;&gt;Google Rankings&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Starting April 21, we will be expanding our use of mobile-friendliness as a ranking signal. This change will affect mobile searches in all languages worldwide and will have a significant impact in our search results. Consequently, users will find it easier to get relevant, high quality search results that are optimized for their devices.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Drupal 8 was designed with mobile devices first in mind, this article by &lt;a href=&quot;https://axelerant.com/not-magic-drupal-8-mobile-global-reach/&quot;&gt;Axelerant&lt;/a&gt;  describes some of the philosophy behind Drupal 8.  However, Drupal 8 is still in its infancy, so I will be doing my best to find resources during the upgrade, for example
&lt;a href=&quot;https://www.drupal.org/node/2360331&quot;&gt;27 Questions (and Answers) from My First Drupal 8 Site Build&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;getting-ready---installing-a-local-development-environment&quot;&gt;Getting Ready - Installing a Local Development Environment&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.drupal.org/requirements&quot;&gt;Drupal 8 Requirements&lt;/a&gt; include a Web server, typically Apache, Database, typically MySQL and PHP.  In order to develop Drupal locally, these need to be available. As I am developing on an Apple Mac Mini, a convenient way to ensure all the dependencies are available are by using a package manager.   The choices for me were either:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.mamp.info/en/downloads/&quot;&gt;MAMP&lt;/a&gt; - installs a local server environment in a matter of seconds on your Mac&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://brew.sh/&quot;&gt;HomeBrew&lt;/a&gt;  - the missing package manager for OS X&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Using HomeBrew, all the packages would need to be installed from the command line.  Some tutorials include:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.frd.mn/install-nginx-php-fpm-mysql-and-phpmyadmin-on-os-x-mavericks-using-homebrew/&quot;&gt;blog.frd.mn&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://discreteunits.com/homebrew-nginx-php-fpm-mysql-on-osx-mavericks/&quot;&gt;discreteunits.com&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://easyengine.io/tutorials/mac/osx-brew-php-mysql-nginx/&quot;&gt;easyengine.io&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I decided to use  MAMP as it is a much simpler installation process and ultimately i would generally not be developing much locally once the migration to Drupal 8 is complete.  However, I chose Nginx as the web server as my production hosts &lt;a href=&quot;https://www.digitalocean.com/?refcode=92e12787bf7a&quot;&gt;DigitalOcean.com&lt;/a&gt; and &lt;a href=&quot;https://www.serverpilot.io/?refcode=c2131f64db72&quot;&gt;Serverpilot.io&lt;/a&gt; use Nginx as default.  I also ensured that MAMP was using PHP 7.0.0.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/MAMP screenshot.png&quot; alt=&quot;MAMP screenshot&quot; /&gt;
&lt;img src=&quot;/assets/2016-02-05/MAMP with Nginx.png&quot; alt=&quot;MAMP with Nginx&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Once MAMP was Installed I used the usual phpmyadmin to create a Drupal 8 MySQL database and user with the &lt;a href=&quot;https://www.drupal.org/requirements/database&quot;&gt;recommended database permissions&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;download-drupal-and-follow-core-drupal-standard-installation-profile&quot;&gt;Download Drupal and Follow Core Drupal “standard” Installation Profile&lt;/h2&gt;

&lt;p&gt;There are many tutorials describing how to install the standard Drupal 8, for example &lt;a href=&quot;https://www.youtube.com/watch?v=bthkQCkrH30&quot;&gt;Drupal 8 Video Installation Guide on Mac OS X&lt;/a&gt;.  Essentially the installation involves:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.drupal.org/start&quot;&gt;Download Drupal 8 Files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Put Drupal download into the MAMP htdocs and browse to that folder, in my case http://localhost:7888/drupal8/&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/drupal 8 core install.jpg&quot; alt=&quot;drupal 8 core install&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After defining the usual settings during installation, for example timezone you are done…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/drupal 8 core website.jpg&quot; alt=&quot;drupal 8 core website&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In the next part, I will install the Drupal migration modules and use Drush to migrate the Drupal 6 database to Drupal 8.&lt;/p&gt;
</description>
        <pubDate>Sat, 06 Feb 2016 18:53:00 +0000</pubDate>
        <link>http://www.hywel.me/drupal/2016/02/06/a-website-upgrade-from-drupal-6-to-drupal-8-part-1.html</link>
        <guid isPermaLink="true">http://www.hywel.me/drupal/2016/02/06/a-website-upgrade-from-drupal-6-to-drupal-8-part-1.html</guid>
        
        
        <category>drupal</category>
        
      </item>
    
      <item>
        <title>Free Disk Space on Digital Ocean Droplet by removing unused Ubuntu versions</title>
        <description>&lt;h2 id=&quot;running-out-of-disk-space&quot;&gt;Running out of Disk Space&lt;/h2&gt;

&lt;p&gt;It has reached a point where the disk usage of a Digital Ocean droplet has reached 69.4% of 19.56Gb.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/running out of disk space.png&quot; alt=&quot;running out of disk space.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I know that the total number of applications I use is broadly 2Gb - so what is using up all that disk space?&lt;/p&gt;

&lt;p&gt;It took a while to learn some useful linux commands to investigate.  A good resource describing &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-use-top-netstat-du-other-tools-to-monitor-server-resources#df&quot;&gt;tools to monitor server resources&lt;/a&gt; at &lt;a href=&quot;https://www.digitalocean.com/?refcode=92e12787bf7a&quot;&gt;Digital Ocean&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The most useful command for my investigation shows the usage of folders:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo du -h  --max-depth 1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/sudo du max depth 1.png&quot; alt=&quot;sudo du max depth 1.png&quot; /&gt;
&lt;img src=&quot;/assets/2016-02-05/sudo du lib.png&quot; alt=&quot;sudo du lib.png&quot; /&gt;
&lt;img src=&quot;/assets/2016-02-05/sudo du modules.png&quot; alt=&quot;sudo du modules.png&quot; /&gt;
&lt;img src=&quot;/assets/2016-02-05/too many old unused kernels.png&quot; alt=&quot;too many old unused kernels.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As you can see in the /lib/modules folder, there were many old kernel versions taking a total of 5.8Gb.&lt;/p&gt;

&lt;p&gt;I verified the currently running kernel using&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;uname -r&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I was running linux-image-3.13.0-37-generic  - that was an old one….so wanted to use the latest.&lt;/p&gt;

&lt;h3 id=&quot;use-the-latest-ubuntu-kernel-through-digital-ocean-control-panel&quot;&gt;Use the latest Ubuntu kernel through Digital Ocean Control Panel&lt;/h3&gt;

&lt;p&gt;This is a great article on Digital Ocean to show how to change the kernel that is used by your server droplet.  I was not aware of needing to do this so was pleased to find the instructions&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-update-a-digitalocean-server-s-kernel&quot;&gt;how to update a digitalocean server  kernel&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After following the instructions to change the kernel through the DigitalOcean Control Panel I powered off the droplet.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo poweroff&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Note that whilst my droplet was powered off, I took the opportunity to take a snapshot Image.  This also restarts the droplet once the image is taken.  The droplet kernel was now updated.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/digital ocean droplet now running newer version.png&quot; alt=&quot;digital ocean droplet now running newer version.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;delete-old-kernels-using-sudo-apt-get-remove&quot;&gt;Delete old Kernels using sudo apt-get remove&lt;/h3&gt;

&lt;p&gt;As I am using a service from &lt;a href=&quot;https://www.serverpilot.io/?refcode=c2131f64db72&quot;&gt;Serverpilot.io&lt;/a&gt;, which is a simple  management system for DigitalOcean servers, I contacted them and received this confirmation regarding deleting old kernels:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Justin Samuel (ServerPilot Support)
Feb 4, 13:55
Hi Hywel,
You’re welcome to remove any kernel versions you don’t intend to use again. What you should check before removing any version is that:
1) It isn’t the most recent kernel version installed.
2) It isn’t the same kernel version that’s currently running according to uname -r
3) It isn’t the kernel you have selected in your server settings in DigitalOcean.
You can then remove a specific kernel with this command:
sudo apt-get remove linux-image-X.Y.Z-XX-generic&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/sudo apt get remove.png&quot; alt=&quot;sudo apt get remove.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/sudo apt get remove continue.png&quot; alt=&quot;sudo apt get remove continue.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;delete-old-kernels-using-sudo-apt-get-autoremove&quot;&gt;Delete old Kernels using sudo apt-get autoremove&lt;/h3&gt;

&lt;p&gt;The above method though good, still did not remove all the redundant packages and dependencies. It would also be slow and tedious.&lt;/p&gt;

&lt;p&gt;Further reading, I found the following useful link &lt;a href=&quot;https://help.ubuntu.com/community/Lubuntu/Documentation/RemoveOldKernels&quot;&gt;RemoveOldKernels&lt;/a&gt; which describes the use of sudo apt-get autoremove:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The system keeps track of which kernels are older and marks them eligible for removal using this method. Most users should run autoremove every few months or so. Systems with a separate /boot partition should run autoremove every two-four weeks. Mark your calendar, make it a routine. Autoremove can be run as often as you like - running it more often will &lt;strong&gt;not&lt;/strong&gt; harm your system&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo apt-get autoremove&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/sudo apt get auto remove continue.png&quot; alt=&quot;sudo apt get auto remove continue.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;According to sudo apt-get autoremove, I cold free up over 7Gb…..here goes…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/sudo du after removing old files.png&quot; alt=&quot;sudo du after removing old files.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-02-05/system information after.png&quot; alt=&quot;system information after.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The disk usage of a Digital Ocean droplet is now 20.5% of 19.56Gb.  That has reduced the disk usage by almost 50%..I’d say a success.&lt;/p&gt;
</description>
        <pubDate>Fri, 05 Feb 2016 06:04:00 +0000</pubDate>
        <link>http://www.hywel.me/digitalocean/2016/02/05/free-disk-space-on-digital-ocean-droplet-by-removing-unused-ubuntu-versions.html</link>
        <guid isPermaLink="true">http://www.hywel.me/digitalocean/2016/02/05/free-disk-space-on-digital-ocean-droplet-by-removing-unused-ubuntu-versions.html</guid>
        
        
        <category>digitalocean</category>
        
      </item>
    
      <item>
        <title>Convert Office 365 User Email to Shared Mailbox and Remove the User License</title>
        <description>&lt;script type=&quot;text/javascript&quot; src=&quot;https://impus.tradedoubler.com/imp?pop(under)g(22879726)a(2850736)&quot; charset=&quot;ISO-8859-1&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;what-is-the-scenario&quot;&gt;What is the Scenario?&lt;/h2&gt;
&lt;p&gt;A temporary member of admin staff was provided with a dedicated user mailbox and therefore an Office 365 License.  Now the staff member is no longer required, the License can be released.&lt;/p&gt;

&lt;p&gt;In order to keep the email for future reference and/ or for the same staff member to return,  converting the user email to a shared mailbox is the best option.  It would then be possible to unsubscribe from the Office 365 license.&lt;/p&gt;

&lt;h2 id=&quot;convert-user-mailbox-to-a-shared-mailbox&quot;&gt;Convert User Mailbox to a Shared Mailbox&lt;/h2&gt;

&lt;h4 id=&quot;step-1---go-to-the-admin-console-in-office-365-and-select-exchange-from-the-options-to-the-left-of-the-screen&quot;&gt;Step 1 - Go to the Admin console in Office 365 and select Exchange from the options to the left of the screen&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/admin console in office 365.jpg&quot; alt=&quot;admin console in office 365&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/office 365 exchange.jpg&quot; alt=&quot;office 365 exchange&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-2---click-on-mailboxes-under-recipients&quot;&gt;Step 2 - Click On mailboxes under recipients&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/office 365 mailboxes under reciptients.jpg&quot; alt=&quot;mailboxes under recipients&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-3---select-the-user-mailbox-to-be-converted--and-click-on-convert-under-the-convert-to-shared-mailbox-option-to-the-right-of-the-screen--a-warning-will-be-shown-click-yes-to-continue&quot;&gt;Step 3 - Select the User Mailbox to be converted  and click on Convert under the Convert to Shared Mailbox option to the right of the screen.  A warning will be shown, click Yes to continue.&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/office 365 mailbox to convert to shared.jpg&quot; alt=&quot;mailbox to convert to shared&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/warning.jpg&quot; alt=&quot;warning&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-4---your-regular-mailbox-has-been-converted-into-shared-mailbox--click-close-to-continue&quot;&gt;Step 4 - Your regular mailbox has been converted into shared mailbox.  Click Close to continue.&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/regular mailbox converted to shared.jpg&quot; alt=&quot;regular mailbox converted to shared.jpg&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;unsubscribe-from-unused-office-365-license&quot;&gt;Unsubscribe from Unused Office 365 License&lt;/h2&gt;

&lt;h4 id=&quot;step-5---go-to-the-admin-console-in-office-365-and-select-active-users-under-the-users-option-on-the-left&quot;&gt;Step 5 - Go to the Admin console in Office 365 and Select Active Users under the Users option on the left&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/office 365 active users.jpg&quot; alt=&quot;office 365 active users.jpg&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-6---select-the-user-and-click-edit-under-assigned-license-on-the-right-of-the-screen&quot;&gt;Step 6 - Select the User and Click Edit under Assigned license on the right of the screen&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/office 365 assigned user license.jpg&quot; alt=&quot;office 365 assigned user license.jpg&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-7---uncheck-the-office-365-business-essentials-license-and-click-save&quot;&gt;Step 7 - Uncheck the Office 365 Business Essentials license and Click Save&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/Uncheck Office 365 Business Essentials license.jpg&quot; alt=&quot;Uncheck Office 365 Business Essentials license.jpg&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-8---in-the-admin-console-of-office-365-select-subscriptions-under-the-billing-option-on-the-left-of-the-screen--then-click-addremove-users--notice-that-there-are-currently-two-purchased-and-one-assigned&quot;&gt;Step 8 - In the Admin console of Office 365, select Subscriptions under the Billing option on the left of the screen.  Then click Add/Remove users.  Notice that there are currently two purchased, and one assigned.&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/office 365 remove user subscription.jpg&quot; alt=&quot;office 365 remove user subscription.jpg&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-9---reduce-the-number-of-total-licenses-and-click-submit-to-confirm&quot;&gt;Step 9 - Reduce the number of Total licenses and click Submit to confirm&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2016-01-12/office 365 reduce the number of licenses.jpg&quot; alt=&quot;office 365 reduce the number of licenses.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This subscription’s quantity was successfully updated.  Done!&lt;/p&gt;

&lt;p&gt;Note that you could now provide access to the new shared mailbox to other users,  see &lt;a href=&quot;https://support.office.com/en-my/article/Open-and-use-a-shared-mailbox-in-Outlook-Web-App-bc127866-42be-4de7-92ae-1ef2f787fd5c?ui=en-US&amp;amp;rs=en-MY&amp;amp;ad=MY#__migbm_0&quot;&gt;Open and Use a Shared Mailbox&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I also describe &lt;a href=&quot;http://www.hywel.me/small/business/email/2015/11/21/office-365-configure-shared-mailbox-mac-email-client.html&quot;&gt;How to Configure Mac Mail Client for Sending and Receiving Email from Office 365 Shared Mailbox&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Tue, 12 Jan 2016 20:43:00 +0000</pubDate>
        <link>http://www.hywel.me/small/business/email/2016/01/12/convert-office-365-user-email-to-shared-mailbox-and-remove-the-user-license.html</link>
        <guid isPermaLink="true">http://www.hywel.me/small/business/email/2016/01/12/convert-office-365-user-email-to-shared-mailbox-and-remove-the-user-license.html</guid>
        
        
        <category>small</category>
        
        <category>business</category>
        
        <category>email</category>
        
      </item>
    
      <item>
        <title>Netgear Arlo Home Security Camera Unboxing and Basic Setup</title>
        <description>&lt;h2 id=&quot;some-research&quot;&gt;Some Research&lt;/h2&gt;

&lt;p&gt;Following online research of home security camera options, I had narrowed my choices to &lt;a href=&quot;https://store.nest.com/uk/product/camera/&quot;&gt;Nest&lt;/a&gt; and Arlo.  One thing I had found was that all cameras pretty much seem to require the user to sign up to a subscription cloud service in order to view recorded video.  These services start from  £6.49/ month, so this extra cost should be considered when making a decision.&lt;/p&gt;

&lt;p&gt;As Arlo currently comes with a free basic service, providing 1Gb storage, 7 days history and up to 5 cameras, this was good enough - even though the camera has a higher initial cost.&lt;/p&gt;

&lt;p&gt;Note that the key downsides to Arlo are that there is no microphone or speaker, so you cannot hear or speak, concequently the Arlo may not be the best choice  as a baby or pet monitor.&lt;/p&gt;

&lt;p&gt;I eventually bought the 2-camera package for £279.99 at &lt;a href=&quot;http://www.pcworld.co.uk/gbuk/smart-tech/smart-tech/smart-home/smart-home-monitoring-and-power/netgear-arlo-smart-home-security-system-10125398-pdt.html?gclid=CjwKEAiA18mzBRCo1e_-y_KLpXISJACEsANGZ_90KxxzCCYcAMPsuoIdvKzYpJ5t-Tzy4RiGtLZ2ZxoCzrfw_wcB&amp;amp;srcid=198&amp;amp;cmpid=ppc~gg~~~Exact&amp;amp;mctag=gg_goog_7904&amp;amp;s_kwcid=AL!3391!3!68396508140!!!g!114416079860!&amp;amp;istCompanyId=9a35962d-802d-4e67-9721-0a3328ca1f02&amp;amp;istItemId=ltpxmmqxr&amp;amp;istBid=tztx&amp;amp;ef_id=VgB68AAAAda8ZfDl:20151217142418:s&quot;&gt;PC World Arlo Camera&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also available from Amazon:&lt;/p&gt;
&lt;iframe style=&quot;width:120px;height:240px;&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; src=&quot;//ws-eu.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&amp;amp;OneJS=1&amp;amp;Operation=GetAdHtml&amp;amp;MarketPlace=GB&amp;amp;source=ac&amp;amp;ref=qf_sp_asin_til&amp;amp;ad_type=product_link&amp;amp;tracking_id=hywelme-21&amp;amp;marketplace=amazon&amp;amp;region=GB&amp;amp;placement=B00TDNYOB6&amp;amp;asins=B00TDNYOB6&amp;amp;linkId=&amp;amp;show_border=true&amp;amp;link_opens_in_new_window=true&quot;&gt;
&lt;/iframe&gt;
&lt;iframe style=&quot;width:120px;height:240px;&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; src=&quot;//ws-eu.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&amp;amp;OneJS=1&amp;amp;Operation=GetAdHtml&amp;amp;MarketPlace=GB&amp;amp;source=ac&amp;amp;ref=qf_sp_asin_til&amp;amp;ad_type=product_link&amp;amp;tracking_id=hywelme-21&amp;amp;marketplace=amazon&amp;amp;region=GB&amp;amp;placement=B00TDNYNP8&amp;amp;asins=B00TDNYNP8&amp;amp;linkId=&amp;amp;show_border=true&amp;amp;link_opens_in_new_window=true&quot;&gt;
&lt;/iframe&gt;
&lt;iframe style=&quot;width:120px;height:240px;&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; src=&quot;//ws-eu.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&amp;amp;OneJS=1&amp;amp;Operation=GetAdHtml&amp;amp;MarketPlace=GB&amp;amp;source=ac&amp;amp;ref=qf_sp_asin_til&amp;amp;ad_type=product_link&amp;amp;tracking_id=hywelme-21&amp;amp;marketplace=amazon&amp;amp;region=GB&amp;amp;placement=B00TDNYNN0&amp;amp;asins=B00TDNYNN0&amp;amp;linkId=&amp;amp;show_border=true&amp;amp;link_opens_in_new_window=true&quot;&gt;
&lt;/iframe&gt;

&lt;h2 id=&quot;unboxing&quot;&gt;Unboxing&lt;/h2&gt;
&lt;p&gt;Here is the boxed arlo smart home security two camera system:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/1 arlo smart home security camera boxed.jpg&quot; alt=&quot;arlo smart home security camera boxed&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;contents-1&quot;&gt;Contents 1&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;US power plug with UK and EU adapter&lt;/li&gt;
  &lt;li&gt;Ethernet cable&lt;/li&gt;
  &lt;li&gt;Wall plugs&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/2 arlo unboxed contents.jpg&quot; alt=&quot;arlo unboxed contents&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;contents-2&quot;&gt;Contents 2&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;8 lithium 123 batteries &lt;em&gt;(notice the extra battery compartment for systems with a third camera)&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;4 wall mounts &lt;em&gt;(I thought providing extra mounts was very useful as the rear of the cameras are magnetic and so could easily be moved to alternative mounts as required)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/4 arlo unboxed batteries and wall mount.jpg&quot; alt=&quot;arlo unboxed batteries and wall mount&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;contents-3&quot;&gt;Contents 3&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;the netgear base station for the cameras&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17//3 arlo unboxed router.jpg&quot; alt=&quot;3 arlo unboxed base station&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;contents-4&quot;&gt;Contents 4&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;the two cameras - notice the standard camera mount at the base of the cameras, that could be used as an alternative to the magnetic mount&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/5 arlo unboxed cameras.jpg&quot; alt=&quot;arlo unboxed cameras&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As there were no instructions included I used &lt;a href=&quot;http://www.downloads.netgear.com/files/arlo/Arlo_UM_02Oct2015.pdf&quot; title=&quot;Arlo Instructions Oct 2015&quot;&gt;http://www.downloads.netgear.com/files/arlo/Arlo_UM_02Oct2015.pdf&lt;/a&gt;.  The instructions were very clear and it worked…&lt;/p&gt;

&lt;h2 id=&quot;connect-base-station-to-router-and-register-account&quot;&gt;Connect Base Station to Router and Register Account&lt;/h2&gt;

&lt;h4 id=&quot;step-1-connect-base-station-to-home-or-work-router&quot;&gt;Step 1: Connect Base Station to home or work router&lt;/h4&gt;
&lt;p&gt;So, following the instructions, I connected the base station directly to a free ethernet port on my BT Home Hub 3 and then powered on the base station.&lt;/p&gt;

&lt;h4 id=&quot;step-2-arlo-login-page&quot;&gt;Step 2: Arlo Login Page&lt;/h4&gt;
&lt;p&gt;Next, was to register an account at arlo.com/login:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/10 arlo login page.jpg&quot; alt=&quot;arlo new system setup page&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-3-system-setup-page&quot;&gt;Step 3: System Setup Page&lt;/h4&gt;
&lt;p&gt;Amazingly, the browser defaulted the base station serial number, I just selected my timezone.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/11 arlo system setup page.jpg&quot; alt=&quot;arlo system setup page&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-4-account-setup-page&quot;&gt;Step 4: Account Setup Page&lt;/h4&gt;
&lt;p&gt;Just some basic information required for the account setup&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/12 arlo account setup page.jpg&quot; alt=&quot;arlo account setup page&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-5-service-selection-page&quot;&gt;Step 5: Service Selection Page&lt;/h4&gt;
&lt;p&gt;Next the all important service selection.  I selected the free Basic plan.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/13 arlo service selection page.jpg&quot; alt=&quot;arlo service selection page&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;sync-cameras-to-base-station&quot;&gt;Sync Cameras to Base Station&lt;/h2&gt;

&lt;h4 id=&quot;step-6-insert-batteries&quot;&gt;Step 6: Insert Batteries&lt;/h4&gt;
&lt;p&gt;Slightly tricky to open the battery compartment as there is a lock and it slides out and then hinges up… here are the batteries…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/6 arlo unboxed camera open with batteries.jpg&quot; alt=&quot;arlo unboxed camera open with batteries&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-7-press-the-base-station-sync-button&quot;&gt;Step 7: Press the Base Station Sync Button&lt;/h4&gt;
&lt;p&gt;Note that the instructions mention that the sync status LED should light up - it did not for me, though strangely, the USB light lit up… regardless, I continued with the next step&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/7 arlo sync button on router.jpg&quot; alt=&quot;arlo sync button on router&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step-8-press-the-camera-sync-button&quot;&gt;Step 8: Press the Camera Sync Button&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/8 arlo camera sync button.jpg&quot; alt=&quot;arlo camera sync button&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;streaming-video&quot;&gt;Streaming Video!&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/15 camera streaming.jpg&quot; alt=&quot;camera streaming&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I repeated steps 6 to 8 for the second camera&lt;/p&gt;

&lt;h4 id=&quot;base-station-with-camera-sync-light&quot;&gt;Base Station with Camera Sync Light&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-17/9 arlo router sync light on.jpg&quot; alt=&quot;arlo router sync light on&quot; /&gt;&lt;/p&gt;

&lt;p&gt;That’s it..I will describe some more advanced configuration in an upcoming post.  I would recommend these little cameras because of the simplicity of setup and positioning.&lt;/p&gt;
</description>
        <pubDate>Thu, 17 Dec 2015 17:10:00 +0000</pubDate>
        <link>http://www.hywel.me/gadgets/2015/12/17/netgear-arlo-home-security-camera-unboxing-setup.html</link>
        <guid isPermaLink="true">http://www.hywel.me/gadgets/2015/12/17/netgear-arlo-home-security-camera-unboxing-setup.html</guid>
        
        
        <category>gadgets</category>
        
      </item>
    
      <item>
        <title>GitHub Pages Custom Domain Names with CloudFlare</title>
        <description>&lt;h2 id=&quot;why-use-a-custom-domain-name&quot;&gt;Why Use a Custom Domain Name&lt;/h2&gt;

&lt;p&gt;Static websites hosted with Github Pages by default are shown in the form https://hyweljohnllewellyn.github.io/victoriancarolsingershire/, with the Github username followed by the repository name.&lt;/p&gt;

&lt;p&gt;If the purpose of the website is for marketing a brand, service or product, then a custom domain would provide a better identity, for example, http://www.victoriancarolsingershire.uk.  This custom domain name describes the service being offered as well as the location.&lt;/p&gt;

&lt;p&gt;The domain name was purchased through &lt;a href=&quot;http://namecheap.com&quot;&gt;Name Cheap&lt;/a&gt;, which is great value for money for domains, though I have struggled somewhat with managing settings through it’s administration console.&lt;/p&gt;

&lt;p&gt;Therefore, I generally use CloudFlare, which is a &lt;a href=&quot;https://en.wikipedia.org/wiki/Content_delivery_network&quot;&gt;Content Delivery Network&lt;/a&gt; to administer &lt;a href=&quot;https://en.wikipedia.org/wiki/Domain_Name_System&quot;&gt;Domain Name System&lt;/a&gt; settings.&lt;/p&gt;

&lt;h2 id=&quot;github-pages-custom-domain-names&quot;&gt;GitHub Pages Custom Domain Names&lt;/h2&gt;

&lt;p&gt;GitHub allows the use of of Apex domains, for example http://victoriancarolsingershire.uk i.e without the &lt;em&gt;‘www’&lt;/em&gt;, however  GitHub recommends using a subdomain, for example http://www.victoriancarolsingershire.uk, i.e with the &lt;em&gt;‘www’&lt;/em&gt;, as described by GitHub at &lt;a href=&quot;https://help.github.com/articles/about-custom-domains-for-github-pages-sites/&quot;&gt;About Custom Domains&lt;/a&gt;.  Briefly, using GitHub Pages subdomains will make the pages load faster.&lt;/p&gt;

&lt;p&gt;GitHub has a great guide to configuring &lt;a href=&quot;https://help.github.com/articles/tips-for-configuring-a-cname-record-with-your-dns-provider/&quot;&gt;Custom Subdomains&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Note that I am aware that by using CloudFlare, then I may be losing some benefits of GitHub’s own Content Delivery, but for now it seems to work for me.&lt;/p&gt;

&lt;h3 id=&quot;step-1-create-a-cname-file&quot;&gt;Step 1: Create a CNAME file&lt;/h3&gt;
&lt;p&gt;The CNAME File should be placed in your repository and there should only be one thing in the file, namely the name of you custom subdomain, in this case &lt;strong&gt;www.victoriancarolsingershire.uk&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015-12-06/cname file github pages custom subdomain.jpg&quot; alt=&quot;CNAME GitHub Pages&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;step-2-cloudflare-cname&quot;&gt;Step 2: CloudFlare CNAME&lt;/h3&gt;
&lt;p&gt;Add the www CNAME record within the victoriancarolsingershire.uk account in CloudFlare.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2015/-12-06/cloudflare cname github subdomain.jpg&quot; alt=&quot;cloudflare cname github subdomain&quot; /&gt;&lt;/p&gt;

&lt;p&gt;All Done, your page is published at the new subdomain:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/published.jpg&quot; alt=&quot;published.jpg&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 06 Dec 2015 20:17:00 +0000</pubDate>
        <link>http://www.hywel.me/static/sites/2015/12/06/github-pages-custom-domain-names-with-cloudflare.html</link>
        <guid isPermaLink="true">http://www.hywel.me/static/sites/2015/12/06/github-pages-custom-domain-names-with-cloudflare.html</guid>
        
        
        <category>static</category>
        
        <category>sites</category>
        
      </item>
    
  </channel>
</rss>
