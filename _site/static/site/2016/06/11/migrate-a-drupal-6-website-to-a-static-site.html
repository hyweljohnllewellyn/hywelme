<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title >Migrate a Drupal 6 Website to a Static Site </title>

  <meta name="description" content="The End of Database CMS - Rise of Static Sites?">

  <link rel="shortcut icon" type="image/jpg" href="/favicon.jpg">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/static/site/2016/06/11/migrate-a-drupal-6-website-to-a-static-site.html">
  <link rel="alternate" type="application/rss+xml" title="Have You Wandered Every Land" href="http://localhost:4000/feed.xml" />  
  <link rel="author" href="https://plus.google.com/u/0/116119715872022757453"/>
</head>


  <body>
    <!--Adsense Page Level Adverts-->


    
    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/" ><img src="http://localhost:4000/assets/hywel_small.png" alt="Have You Wandered Every Land"></a>
  

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <!--analytics.google.com tracking code-->



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Migrate a Drupal 6 Website to a Static Site</h1>
    <p class="post-meta">Jun 11, 2016 ✎ Hywel • Drupal 6 Jekyll Hugo CMS functionality for static site</p>
  </header>

  
  <div style="width: 700px; height: 90px; background: grey;">Google Adsense</div>
  


  <article class="post-content">
    <h2 id="the-end-of-database-cms---rise-of-static-sites">The End of Database CMS - Rise of Static Sites?</h2>

<p>Following my attempt to Migrate from Drupal 6 to Drupal 8, I found the whole experience disappointing.  I also found Drupal over complicated for what is a relatively simple website.</p>

<p>I have been using <a href="http://jekyllrb.com/">Jekyll</a> and <a href="https://prose.io">Prose.io</a> for this blog for some time and have enjoyed using them.  I was inspired to try migrating to a static site generator after reading the <a href="http://atchai.com/blog/the-cms-is-dead-long-live-hugo-wercker-proseio-and-cloudfront/">CMS is dead</a>, from <a href="http://atchai.com/">Atchai</a>, a digital consultancy and development house based in London…</p>

<blockquote>
  <p>“we realised with significant joy that we could jettison our 5-year old CMS (Drupal) in favour of a Static Site Generator”.</p>
</blockquote>

<p>There is an increasing trend of sites are moving to static site generators, see <a href="https://www.smashingmagazine.com/2015/11/modern-static-website-generators-next-big-thing/">modern static website generators the next big thing</a>  including  <a href="https://www.healthcare.gov/">healthcare.gov</a>, see <a href="https://developmentseed.org/blog/new-healthcare-gov-is-open-and-cms-free/">healthcare gov is cms free</a>  and https://mailchimp.com , see <a href="https://blog.mailchimp.com/building-the-new-mailchimp/">building the new mailchimp</a>.</p>

<p>This is driven by mobile and the need for simple streamlined and fast content, which database driven sites that generate “content on the fly” are over engineered and slow in comparison to static sites.</p>

<p>Some static site services are now available such as <a href="https://bowtie.io/">bowtie.io</a>, which describes in their <a href="https://bowtie.io/news/cms-for-static-html-websites/">cms for static html websites article</a></p>

<blockquote>
  <p>“helps you deploy websites that are faster, easier to maintain, and more secure than a traditional content management system - without losing convenience.”  .</p>
</blockquote>

<p>Another interesting approach is taken by <a href="https://www.contentful.com/">contentful.com</a>, in which they manage the content and integrates using API’s to static site generators, from their <a href="https://www.contentful.com/r/knowledgebase/contentful-api-cms-static-site-generators/">static site article</a></p>

<blockquote>
  <p>“you get the all the benefits of content management features while still being able to embrace the static site generator mantra.”</p>
</blockquote>

<p>My goal is to convert the Drupal 6 CMS to a <strong>responsive</strong>, <strong>mobile friendly</strong>, <strong>static site</strong>, that can be <strong>easily maintained by a non-technical user</strong>.</p>

<p>This is not as easy as it sounds as static site generator tend to be developer, not user friendly.</p>

<p>The contenders to be explored in this article are Jekyll and Hugo.</p>

<h2 id="summary-of-findings-cut-to-the-chase">Summary of Findings (cut to the chase)</h2>

<p>As expected, neither Jekyll or Hugo are fit for the purpose - they are great static site generators and are mobile friendly BUT maintaining them and adding content is just too technical.</p>

<p>Though I am interested in investigating a service such as <a href="https://www.contentful.com">contentful.com</a>, I am steering away because of a potential lock in to their proprietary technology and ultimately their fees.</p>

<p>I think the idea of <em>“best of both worlds”</em> between a classic CMS such as <a href="https://wordpress.org/">Wordpress</a> to create the content and then generate static HTML is the current best option for my needs….See next post..</p>

<p>Some of the steps carried out to convert from Drupal 6 to Jekyll or Hugo are described below…</p>

<h2 id="drupal-6-to-jekyll">Drupal 6 to Jekyll</h2>

<p>To begin, I will convert the Drupal 6 “nodes” to static content using  a <a href="https://import.jekyllrb.com/docs/drupal6/">Drupal 6 Importer</a> provided by <a href="https://import.jekyllrb.com/">Jekyll</a>.</p>

<p>Note that I am a Mac user and already have Jekyll installed.</p>

<h3 id="step-1-create-a-new-jekyll-site-and-install-the-jekyll-import">Step 1 Create a new Jekyll Site and install the jekyll-import</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">~/Sites&gt; </span>jekyll new hartleyvoices_jekyll
New jekyll site installed <span class="k">in</span> /Users/hywel/Sites/hartleyvoices_jekyll. 
<span class="gp">~/Sites&gt; </span><span class="nb">cd </span>hartleyvoices_jekyll
<span class="gp">~/Sites/hartleyvoices_jekyll&gt; </span>gem install jekyll-import
Successfully installed jekyll-import-0.10.0
Parsing documentation <span class="k">for </span>jekyll-import-0.10.0
Done installing documentation <span class="k">for </span>jekyll-import after 1 seconds
1 gem installed
<span class="gp">~/Sites/hartleyvoices_jekyll&gt; </span></code></pre></figure>

<h3 id="step-2-export-the-production-drupal-6-database">Step 2 Export the Production Drupal 6 Database</h3>

<p>Generally, it is a good idea to  develop using a local version of data and files to protect production.  Using Sequel Pro http://www.sequelpro.com/, log into the production data base and Export as a SQL file.
Note Ensure that the SQL is unzipped.</p>

<h3 id="step-3-create-a-local-mysql-user-and-database-and-import-the-drupal-6-database">Step 3 Create a local MySQL user and database and Import the Drupal 6 Database</h3>

<p>As I already have <a href="https://www.mamp.info/en/">MAMP</a> and the excellent <a href="https://www.phpmyadmin.net/">phpMyAdmin</a>.</p>

<p>Add a MySQL user and create database with all privileges:</p>

<p><img src="/assets/Add mysql server user and create database with all privileges.jpg" alt="add mysql user and create database" /></p>

<p>Select the SQL database file to import from Step 2:</p>

<p><img src="/assets/2016-06-11/select to import.jpg" alt="select sql file to import" /></p>

<p>Import:</p>

<p><img src="/assets/2016-06-11/import the file.jpg" alt="import the sql database file" /></p>

<p>Success:</p>

<p><img src="/assets/2016-06-11/success.jpg" alt="success" /></p>

<h3 id="step-5-execute-the-jekyll-import">Step 5 Execute the Jekyll Import</h3>

<p>Following the <a href="https://import.jekyllrb.com/docs/drupal6/">Jekyll Drupal 6 Import</a> instructions:</p>

<blockquote>
  <p>“By default, the Jekyll importer will pull in nodes of type blog, story, and article. To specify custom types, you can use the types option when you run the importer.”</p>
</blockquote>

<p>The node types in my site are “page”, “talent”,”testimonial”.  Enter the Drupal 6 database credentials created in Step 3:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ruby -rubygems -e <span class="s1">'require "jekyll-import";
    JekyllImport::Importers::Drupal6.run({
      "dbname"   =&gt; "hartleyvoices",
      "user"     =&gt; "hartleyvoices",
      "password" =&gt; "",
      "host"     =&gt; "localhost",
      "prefix"   =&gt; "",
      "types"    =&gt;  ["page", "talent", "testimonial"]
    })’</span></code></pre></figure>

<p>I received the error “Whoops! Looks like you need to install ‘sequel’ before you can use this importer.”</p>

<p><img src="/assets/2016-06-11/whoops need to install sequel.png" alt="whoops need to install sequel" /></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">gem install sequel</code></pre></figure>

<p><img src="/assets/2016-06-11/gem install sequel.png" alt="gem install sequel" /></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo gem install mysql</code></pre></figure>

<p><img src="/assets/2016-01-11/sudo gem install mysql.png" alt="sudo gem install mysql" /></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">mysql.server start</code></pre></figure>

<p><img src="/assets/2016-06-11/mysql server start.png" alt="mysql server start" /></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ruby -rubygems -e <span class="s1">'require "jekyll-import";
    JekyllImport::Importers::Drupal6.run({
      "dbname"   =&gt; "hartleyvoices",
      "user"     =&gt; "hartleyvoices",
      "password" =&gt; "",
      "host"     =&gt; "localhost",
      "prefix"   =&gt; "",
      "types"    =&gt;  ["page", "talent", "testimonial"]
    })’</span></code></pre></figure>

<p><img src="/assets/2016-06-11/drupal 6 to jekyll import no errors.png" alt="drupal 6 to jekyll import no errors" /></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">mysql.server stop</code></pre></figure>

<p>Now to run Jekyll and hopefully see something..</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">~/Sites/hartleyvoices_jekyll&gt; </span>jekyll serve
Configuration file: /Users/hywel/Sites/hartleyvoices_jekyll/_config.yml
            Source: /Users/hywel/Sites/hartleyvoices_jekyll
       Destination: /Users/hywel/Sites/hartleyvoices_jekyll/_site
 Incremental build: disabled. Enable with --incremental
      Generating... 
                    <span class="k">done in </span>14.248 seconds.
 Auto-regeneration: enabled <span class="k">for</span> <span class="s1">'/Users/hywel/Sites/hartleyvoices_jekyll'</span>
Configuration file: /Users/hywel/Sites/hartleyvoices_jekyll/_config.yml
    Server address: http://127.0.0.1:4000/
  Server running... press ctrl-c to stop.</code></pre></figure>

<p>Here is one of the Drupal 6 posts imported to Jekyll.  Not too bad, though is missing all the images:</p>

<p><img src="/assets/2016-06-11/jekyll post imported from drupal 6.png" alt="jekyll post imported from Drupal 6" /></p>

<h2 id="jekyll-to-hugo">Jekyll to Hugo</h2>

<p>Now, granted I am cheating here as I will be importing the Drupal 6 Post vial Jekyll to Hugo, the reason was I didn’t find any alternative to convert directly from Drupal 6 to Hugo.</p>

<p>If you have not installed <a href="https://gohugo.io/overview/introduction/">Hugo</a>, please follow the <a href="https://gohugo.io/tutorials/installing-on-mac/">Installing Hugo on a Mac</a> instructions first.</p>

<p>Following the instructions at <a href="http://gohugo.io/commands/hugo_import_jekyll/">Hugo import Jekyll</a>:</p>

<p>Import the posts:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">~/Sites/hartleyvoices_hugo&gt; </span>hugo import jekyll ~/Sites/hartleyvoices_jekyll ~/Sites/hartleyvoices_hugo
Importing...
Congratulations! 137 posts imported!</code></pre></figure>

<p><img src="/assets/2016-06-11/hugo import jekyll.png" alt="hugo import jekyll" /></p>

<p>Clone a Hugo theme:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> /Users/hywel/Sites/hartleyvoices_hugo/themes/
git clone https://github.com/spf13/herring-cove.git </code></pre></figure>

<p>Run the Hugo Server:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">~/Sites/hartleyvoices_hugo&gt; </span>hugo server -w --theme<span class="o">=</span>herring-cove
0 of 2 drafts rendered
0 future content
135 pages created
0 paginator pages created
0 tags created
1 categories created
<span class="k">in </span>568 ms
Watching <span class="k">for </span>changes <span class="k">in</span> /Users/hywel/Sites/hartleyvoices_hugo/<span class="o">{</span>data,content,layouts,static,themes<span class="o">}</span>
Serving pages from memory
Web Server is available at http://localhost:1313/ <span class="o">(</span><span class="nb">bind </span>address 127.0.0.1<span class="o">)</span></code></pre></figure>

<p>Here is the Drupal 6 post imported to Hugo (via Jekyll):</p>

<p><img src="/assets/2016-06-11/hugo post imported from jekyll.png" alt="hugo post imported from jekyll" /></p>

<h2 id="jekyll-or-hugo">Jekyll or Hugo….?</h2>

<p>Well, here’s the decision - Continue with Jekyll or Hugo?</p>

<p>Both generators have benefits, and If it were purely my choice alone, I would proceed with Hugo because of its speed and pure environment (no dependencies unlike Jekyll).</p>

<p>However, at the moment neither offer a really simple way for a user without development background to add content - unlike CMS - The primary user of the site is not a developer.</p>

<p>So in my next post, I will be investigating options to use a CMS locally and then generate static site content to be published to the web - possible best of both worlds for now… time will tell.</p>

  </article>

<!-- Hywel Start Disqus Comments -->
  <div id="disqus_thread"></div>
  <script>
      /**
       *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
       *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
       */
      var disqus_config = function () {
          this.page.url =  "http://localhost:4000/static/site/2016/06/11/migrate-a-drupal-6-website-to-a-static-site.html";  // Replace PAGE_URL with your page's canonical URL variable

          //this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };

      (function() {  // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');

          s.src = '//hywelme.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<!-- Hywel End Disqus Comments -->

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Have You Wandered Every Land</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <!--li>Have You Wandered Every Land</li-->
          <li><a href="mailto:hywel.llewellyn@gmail.com">hywel.llewellyn@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/hyweljohnllewellyn">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">hyweljohnllewellyn</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/hywel_llewellyn">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">hywel_llewellyn</span>
            </a>
          </li>
          
        </ul>
      </div>

      <!--div class="footer-col  footer-col-3">
        <p class="text">A personal blog site, with musings about technology and documenting what I learn.
</p>
     </div-->
      <!--  google advert hywelme start -->
    <div class="footer-col  footer-col-3">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
     <!-- footer_hywelme -->
        <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-1549458855743321"
         data-ad-slot="1092663097"
         data-ad-format="auto"></ins>
    <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  <!--  google advert hywelme end -->
  </div>

  </div>

</footer>


  </body>

</html>
